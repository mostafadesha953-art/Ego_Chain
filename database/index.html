<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EGO Chain | Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
    <script src="https://js.stripe.com"></script>
    <script src="https://www.paypal.com"></script>
    
    <style>
        :root { --main-cyan: #38bdf8; --bg-dark: #0f172a; --card-bg: #1e293b; --success: #4ade80; }
        body { background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; text-align: center; }
        
        .header { padding: 40px; }
        .ego-logo { 
            font-size: 3rem; font-weight: 900; color: #fff; text-shadow: 0 0 15px var(--main-cyan);
            border: 3px solid var(--main-cyan); padding: 10px 40px; border-radius: 50px; display: inline-block;
        }

        .container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
        .card { background: var(--card-bg); padding: 20px; border-radius: 15px; border: 1px solid #334155; display: flex; flex-direction: column; align-items: center; }
        
        button { 
            background: var(--main-cyan); color: #000; border: none; padding: 12px 25px; 
            border-radius: 8px; font-weight: bold; cursor: pointer; margin: 8px 0; width: 100%; transition: 0.3s;
        }
        button:hover { opacity: 0.8; transform: scale(1.02); }
        .btn-ai { background: var(--success); }
        
        input { width: 95%; padding: 12px; margin-bottom: 15px; border-radius: 5px; border: none; background: #0f172a; color: white; text-align: center; }
        
        .ai-pricing-box { background: rgba(56, 189, 248, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0; border: 1px dashed var(--main-cyan); width: 90%; }
        .mining-display { color: var(--success); font-family: monospace; font-size: 1.3rem; margin: 10px 0; }
        
        @media (max-width: 768px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="header">
    <div class="ego-logo">EGO Chain</div>
</div>

<div class="container">
    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø¯ÙØ¹ -->
    <div class="card">
        <h2>ØªÙˆÙ„ÙŠØ¯ Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ</h2>
        <p>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: 0.5 Ø¯ÙˆÙ„Ø§Ø±</p>
        <input type="text" id="tokenName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø© (Ù…Ø«Ù„Ø§Ù‹: EGO Gold)">
        
        <div class="ai-pricing-box">
            <h4 style="color: var(--main-cyan); margin: 0;">ğŸ’° ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ÙˆÙ„ÙŠ (AI)</h4>
            <div style="font-size: 1.8rem; margin: 10px 0;">
                <span id="ai-price-usd">0.0500</span> <small>$</small> | 
                <span id="ai-price-egp">2.50</span> <small>Ø¬.Ù…</small>
            </div>
            <p style="font-size: 0.7rem; color: #94a3b8;">* ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ´ÙÙŠØ± + Ø§Ù„Ù†Ø¯Ø±Ø© 5%</p>
            <button class="btn-ai" onclick="purchaseTokenListing()">Ø´Ø±Ø§Ø¡ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·Ø±Ø­ Ø§Ù„Ø£ÙˆÙ„ÙŠ</button>
        </div>

        <button onclick="payWithFawry()">Ø¯ÙØ¹ Ø¹Ø¨Ø± Fawry (Ø¬Ù†ÙŠÙ‡)</button>
        <button onclick="payWithInstapay()">Ø¯ÙØ¹ Ø¹Ø¨Ø± InstaPay (Ø¬Ù†ÙŠÙ‡)</button>
        <button onclick="payWithStripe()">Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù† (Ø¯ÙˆÙ„Ø§Ø±)</button>
        <div id="paypal-button-container" style="width: 100%; margin-top: 10px;"></div>
    </div>

    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙˆØ§Ù„Ù…Ø­ÙØ¸Ø© -->
    <div class="card">
        <h2>Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø°ÙƒÙŠØ©</h2>
        <div id="auth-section">
            <input type="text" id="userEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ">
            <input type="password" id="userPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button onclick="handleAuth()">Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø©</button>
        </div>

        <div id="mining-ui" class="hidden" style="display:none; width: 100%;">
            <div class="card" style="background: #0f172a; width: 90%; margin: 10px 0;">
                <p>Ø³Ø±Ø¹Ø© Ø§Ù„Ù€ HASH Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</p>
                <div id="hashRate" class="mining-display">0.00000000</div>
                <p>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¹Ø¯Ù‘Ù† Ù…Ø­Ù„ÙŠØ§Ù‹:</p>
                <div id="minedBalance" class="mining-display">0.00000000</div>
            </div>
            <button onclick="startMiningProcess()">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ¹Ø¯ÙŠÙ† â›ï¸</button>
            <button style="background: #8b5cf6; color: white;" onclick="syncWithEgoChain()">Ø¯Ù…Ø¬ ÙˆØ±ÙØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ù„Ù„Ø´Ø¨ÙƒØ©</button>
        </div>
    </div>
</div>

<!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ -->
<script src="../src/ai-pricing-engine.js" type="module"></script>
<script src="../src/wallet-core.js" type="module"></script>
<script src="main.js"></script>

<script>
// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (AI Logic)
function updateAIPricing() {
    const basePrice = 0.5;
    // Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¨Ø³ÙŠØ·Ø© ØªØ­Ø§ÙƒÙŠ Ø§Ù„Ù€ AI (Ù‚ÙˆØ© Ø§Ù„ØªØ´ÙÙŠØ± 9.8 + Ø§Ù„Ù†Ø¯Ø±Ø©)
    const finalUSD = (basePrice * 1.25).toFixed(4); 
    const finalEGP = (finalUSD * 50).toFixed(2);

    document.getElementById('ai-price-usd').innerText = finalUSD;
    document.getElementById('ai-price-egp').innerText = finalEGP;
}

// Ø¯Ø§Ù„Ø© Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
function handleAuth() {
    const email = document.getElementById('userEmail').value;
    if(email) {
        document.getElementById('auth-section').style.display = 'none';
        document.getElementById('mining-ui').style.display = 'block';
        updateAIPricing();
    } else {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    }
}

async function purchaseTokenListing() {
    const price = document.getElementById('ai-price-usd').innerText;
    alert(Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ù„Ø¯ÙØ¹ ${price}$ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ©);
}

window.onload = updateAIPricing;
</script>

</body>
</html>
