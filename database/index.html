<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EGO Chain | Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <script src="https://js.stripe.com"></script>
    <script src="https://www.paypal.com"></script>
    
    <style>
        :root { --main-cyan: #38bdf8; --bg-dark: #0f172a; --card-bg: #1e293b; --success: #4ade80; --gold: #f39c12; }
        body { background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; text-align: center; }
        
        .header { padding: 40px; }
        .ego-logo { 
            font-size: 3rem; font-weight: 900; color: #fff; text-shadow: 0 0 15px var(--main-cyan);
            border: 3px solid var(--main-cyan); padding: 10px 40px; border-radius: 50px; display: inline-block;
        }

        .container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
        .card { background: var(--card-bg); padding: 20px; border-radius: 15px; border: 1px solid #334155; display: flex; flex-direction: column; align-items: center; position: relative; }
        
        button { background: var(--main-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; margin: 8px 0; width: 100%; transition: 0.3s; }
        button:hover { opacity: 0.8; transform: scale(1.02); }
        
        .scarcity-badge { background: rgba(243, 156, 18, 0.1); border: 1px solid var(--gold); padding: 10px; border-radius: 10px; margin-top: 10px; width: 90%; font-size: 0.85rem; }
        .boost-val { color: var(--gold); font-weight: bold; }
        
        input { width: 95%; padding: 12px; margin-bottom: 15px; border-radius: 5px; border: none; background: #0f172a; color: white; text-align: center; }
        #instapay-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1e293b; padding: 25px; border: 2px solid var(--main-cyan); border-radius: 15px; z-index: 1000; display: none; width: 300px; }
        
        @media (max-width: 768px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="header">
    <div class="ego-logo">EGO Chain</div>
</div>

<div class="container">
    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ù†Ø¯Ø±Ø© -->
    <div class="card">
        <h2>ØªÙˆÙ„ÙŠØ¯ Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ</h2>
        
        <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¯Ø±Ø© Ù„Ù„Ø¹Ù…Ù„Ø§Øª (Aura & Jewel) -->
        <div class="scarcity-badge">
            <div id="aura-metrics">AURA Locked: <span id="aura-val">0.00</span> | Boost: <span id="aura-boost" class="boost-val">0%</span></div>
            <div id="jewel-metrics" style="margin-top:5px;">JEWEL Locked: <span id="jewel-val">0.00</span> | Boost: <span id="jewel-boost" class="boost-val">0%</span></div>
        </div>

        <p style="margin-top:15px;">Ø±Ø³ÙˆÙ… Ø§Ù„Ø¹Ù‚Ø¯: 0.5 Ø¯ÙˆÙ„Ø§Ø± (25 Ø¬.Ù…)</p>
        <input type="text" id="tokenName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
        
        <div style="background: rgba(56, 189, 248, 0.1); padding: 15px; border-radius: 10px; width: 90%; border: 1px dashed var(--main-cyan);">
            <h4 style="margin:0; color: var(--main-cyan);">ğŸ’° ØªÙ‚ÙŠÙŠÙ… AI Ù„Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ÙˆÙ„ÙŠ</h4>
            <div style="font-size: 1.5rem; margin: 10px 0;">
                <span id="ai-price-usd">0.0500</span> $ | <span id="ai-price-egp">25.00</span> Ø¬.Ù…
            </div>
            <button onclick="purchaseTokenListing()" style="background: var(--success);">Ø´Ø±Ø§Ø¡ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·Ø±Ø­ Ø§Ù„Ø£ÙˆÙ„ÙŠ</button>
        </div>

        <div style="width: 100%; margin-top: 10px;">
            <button onclick="payWithFawry()" style="background: #ffc107;">Ø¯ÙØ¹ Fawry</button>
            <button onclick="handleInstaPayDisplay()" style="background: #4a148c; color: white;">Ø¯ÙØ¹ InstaPay</button>
            <button onclick="payWithStripe()" style="background: #6366f1; color: white;">Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù† (Stripe)</button>
        </div>
    </div>

    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙˆØ§Ù„ØªØ­ÙƒÙ… -->
    <div class="card">
        <h2>Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙˆØ§Ù„ØªØ­ÙƒÙ…</h2>
        <div id="auth-section">
            <input type="text" id="userEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ">
            <input type="password" id="userPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button onclick="handleAuth()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø­ÙØ¸Ø©</button>
        </div>

        <div id="mining-ui" style="display:none; width: 100%;">
            <div class="card" style="background: #0f172a; width: 90%; border-color: var(--success);">
                <p>Ø³Ø±Ø¹Ø© Ø§Ù„Ù€ HASH Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø© (ØªØ¶ÙŠÙŠÙ‚):</p>
                <div id="hashRate" style="color: var(--success); font-family: monospace; font-size: 1.2rem;">1.0000000</div>
                <p>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¹Ø¯Ù‘Ù†:</p>
                <div id="minedBalance" style="color: var(--success); font-family: monospace; font-size: 1.2rem;">0.00000000</div>
            </div>
            <button onclick="startMiningProcess()">ØªØ´ØºÙŠÙ„ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ†</button>
            <button style="background: #ef4444; color: white;" onclick="triggerKillSwitch()">Ù‚ÙÙ„ Ø§Ù„Ø³Ù‚Ù Ù„Ù„Ø£Ø¨Ø¯ ğŸ”’</button>
        </div>
    </div>
</div>

<!-- InstaPay Modal -->
<div id="instapay-modal">
    <h4>ØªØ­ÙˆÙŠÙ„ InstaPay</h4>
    <p style="font-size: 0.8rem;">Ø§Ø±Ø³Ù„ 25 Ø¬.Ù… Ù„Ù„Ø¹Ù†ÙˆØ§Ù†:</p>
    <div style="background:#0f172a; padding:10px; color:var(--main-cyan); font-weight:bold; border-radius:5px;">ego-chain@instapay</div>
    <input type="text" id="instaRef" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©">
    <button onclick="confirmInstaPay()" style="background:var(--success);">ØªØ£ÙƒÙŠØ¯</button>
    <button onclick="document.getElementById('instapay-modal').style.display='none'" style="background:none; color:red; border:none;">Ø¥Ù„ØºØ§Ø¡</button>
</div>
    <!-- Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ index.html -->
    <script src="https://cdn.jsdelivr.net"></script>

<div class="card" style="grid-column: span 2; min-height: 300px;">
    <h3 style="color: var(--main-cyan);">ğŸ“ˆ Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„Ø³Ø¹Ø± ÙˆØ§Ù„Ø·Ù„Ø¨ (EGO Price Curve)</h3>
    <canvas id="priceChart" style="max-height: 250px;"></canvas>
    <p style="font-size: 0.7rem; color: #94a3b8; margin-top: 10px;">* ÙŠØ±ØªÙØ¹ Ø§Ù„Ø³Ø¹Ø± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙˆÙ‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚.</p>
</div>
<script>
// --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ù†Ø¯Ø±Ø© (Scarcity Engine) ---
function updateScarcityMetrics(totalTaxAura, totalTaxJewel) {
    // ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹Ø§Ø¯Ù„Ø§ØªÙƒ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© (Boost)
    const auraBoost = (totalTaxAura * 0.05).toFixed(2);
    const jewelBoost = (totalTaxJewel * 0.03).toFixed(2);

    document.getElementById('aura-val').innerText = totalTaxAura.toFixed(2);
    document.getElementById('aura-boost').innerText = auraBoost + "%";
    document.getElementById('jewel-val').innerText = totalTaxJewel.toFixed(2);
    document.getElementById('jewel-boost').innerText = jewelBoost + "%";
}

// --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ---
function updateAIPricing() {
    document.getElementById('ai-price-usd').innerText = "0.6250"; // Ù…Ø«Ø§Ù„ Ù„Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
    document.getElementById('ai-price-egp').innerText = "25.00";
}

function handleInstaPayDisplay() { document.getElementById('instapay-modal').style.display = 'block'; }

function handleAuth() {
    if(document.getElementById('userEmail').value) {
        document.getElementById('auth-section').style.display = 'none';
        document.getElementById('mining-ui').style.display = 'block';
        // ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ„ÙŠ Ù„Ù„Ù†Ø¯Ø±Ø© (Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ©)
        updateScarcityMetrics(150.50, 85.20);
    }
}

async function triggerKillSwitch() {
    if(confirm("ØªØ­Ø°ÙŠØ±: Ø³ÙŠØªÙ… ØºÙ„Ù‚ Ø§Ù„Ø³Ù‚Ù Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) {
        alert("ØªÙ… Ù‚ÙÙ„ Ø³Ù‚Ù Ø§Ù„Ø¹Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ Ù„Ù„Ø£Ø¨Ø¯.");
    }
}

window.onload = updateAIPricing;
</script>
</body>
</html>

